{% load static %}

<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8">
    <title>인공지능을 활용한 색체 기반 영화 추천</title>
    
    {% comment %} Thema StyleSheet {% endcomment %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">

    {% comment %} Bootstrap CDN {% endcomment %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    {% comment %} Google Font {% endcomment %}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">

    {% comment %} Font Awesome {% endcomment %}
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>

    {% comment %} Favicon {% endcomment %}
    <link rel="apple-touch-icon" sizes="57x57" href="{% static 'favicon/apple-icon-57x57.png' %}">
    <link rel="apple-touch-icon" sizes="60x60" href="{% static 'favicon/apple-icon-60x60.png' %}">
    <link rel="apple-touch-icon" sizes="72x72" href="{% static 'favicon/apple-icon-72x72.png' %}">
    <link rel="apple-touch-icon" sizes="76x76" href="{% static 'favicon/apple-icon-76x76.png' %}">
    <link rel="apple-touch-icon" sizes="114x114" href="{% static 'favicon/apple-icon-114x114.png' %}">
    <link rel="apple-touch-icon" sizes="120x120" href="{% static 'favicon/apple-icon-120x120.png' %}">
    <link rel="apple-touch-icon" sizes="144x144" href="{% static 'favicon/apple-icon-144x144.png' %}">
    <link rel="apple-touch-icon" sizes="152x152" href="{% static 'favicon/apple-icon-152x152.png' %}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'favicon/apple-icon-180x180.png' %}">
    <link rel="icon" type="image/png" sizes="192x192"  href="{% static 'favicon/android-icon-192x192.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'favicon/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="96x96" href="{% static 'favicon/favicon-96x96.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'favicon/favicon-16x16.png' %}">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    {% comment %} Style Sheet {% endcomment %}
    <link rel="stylesheet" href="{% static 'css/base.css' %}">

    {% block option_import %}{% endblock option_import %}
  </head>

  <body style="font-family: 'Noto Sans KR', sans-serif;"> 

    {% comment %} Background Video {% endcomment %}
    <div class="video-bg">
      <video width="320" height="240" autoplay loop muted>
        <source src="{% static 'videos/background.mp4' %}" type="video/mp4">
      </video>
    </div>

    {% comment %} Application {% endcomment %}
    <div class="app">

      {% comment %} Header {% endcomment %}
      <div class="header" style="padding: 0px;">
        <div class="header-menu">
          <a class="menu-link " href="{% url 'movies:index' 1 %}"
            style="font-size: 20px; color: white; font-weight: bolder; opacity: 0.9;"> <i class="fas fa-rainbow" style="margin-right:10px; "></i>인공지능을 활용한 색채 기반 영화 추천</a>
        </div>

        {% comment %} Search Bar {% endcomment %}
        <form action="{% url 'movies:index' 4 %}">
        <div class="search-bar" style="max-width: 2000px; margin-left: 150px;">
          <input id="searchInput" name="searchData" type="text" placeholder="영화 검색하기" style="width:550px; border-radius: 1%">
          <button id="searchButton" class="d-none"></button>
        </div>
        </form>

        {% comment %} User & Login Button {% endcomment %}
        <div class="header-profile d-flex justify-content-center align-items-center">
          <div class="notification d-flex justify-content-center align-items-center">
            <h3 style="color: white; margin: 10px; opacity: 0.9;">{{ user.username }}</h3>
            <button class="btn btn-white mt-1" onclick="location.href = '{% url 'accounts:logout' %}'"> <i class="fas fa-exchange-alt" style="color: white; font-size: 20px; opacity: 0.9;"></i> </button>
            <button class="btn btn-white mt-1" onclick="location.href = '{% url 'accounts:logout' %}'"> <i class="fas fa-sign-out-alt" style="color: white; font-size: 20px; opacity: 0.9;"></i> </button>
          </div>
        </div>
      </div>
      {% comment %} END Header {% endcomment %}


      {% comment %} Contents {% endcomment %}
      <div class="wrapper">
      
        {% comment %} Profile {% endcomment %}
        <div class="left-side">

          {% comment %} Profile Section 1 {% endcomment %}
          <div class="side-wrapper">
            <div class="side-title">현재 당신의 색채</div>
            <div class="side-menu">
              <div
                style="width:200px; height:200px; border-radius:50%; opacity: 0.9; background: {{ last_color.color }};">
              </div>
            </div>
          </div>

          {% comment %} Profile Section 2 {% endcomment %}
          <div class="side-wrapper">
            <div class="side-title">당신을 위한 색채의 기록들</div>
            <div class="side-menu">
              {% for color in colors %}
              <div class="progress mt-3">
                <div class="progress-bar" role="progressbar" style="width: 100%; opacity: 0.6; background-color: {{ color.color }};"
                  aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
              {% endfor %}
            </div>
          </div>

          {% comment %} Profile Section 3 {% endcomment %}
          <div class="side-wrapper">
            <div class="side-title">음성인식</div>
            <div class="side-menu">
              <a href="#">
                <svg viewBox="0 0 332 332" fill="currentColor">
                  <path
                    d="M282.341 8.283C275.765 2.705 266.211 0 253.103 0c-18.951 0-36.359 5.634-51.756 16.743-14.972 10.794-29.274 28.637-42.482 53.028-4.358 7.993-7.428 11.041-8.973 12.179h-26.255c-10.84 0-19.626 8.786-19.626 19.626 0 8.989 6.077 16.486 14.323 18.809l-.05.165h.589c1.531.385 3.109.651 4.757.651h18.833l-32.688 128.001c-7.208 27.848-10.323 37.782-11.666 41.24-1.445 3.711-3.266 7.062-5.542 10.135-.42-5.39-2.637-10.143-6.508-13.854-4.264-4.079-10.109-6.136-17.364-6.136-8.227 0-15.08 2.433-20.37 7.229-5.416 4.93-8.283 11.193-8.283 18.134 0 5.157 1.701 12.712 9.828 19.348 6.139 4.97 14.845 7.382 26.621 7.382 17.096 0 32.541-4.568 45.891-13.577 13.112-8.845 24.612-22.489 34.166-40.522 9.391-17.678 18.696-45.124 28.427-83.9l18.598-73.479h30.016c10.841 0 19.625-8.785 19.625-19.625s-8.784-19.626-19.625-19.626h-19.628c6.34-21.62 14.175-37.948 23.443-48.578 2.284-2.695 5.246-5.692 8.412-7.678-1.543 3.392-2.325 6.767-2.325 10.055 0 6.164 2.409 11.714 6.909 16.03 4.484 4.336 10.167 6.54 16.888 6.54 7.085 0 13.373-2.667 18.17-7.716 4.76-5.005 7.185-11.633 7.185-19.703.017-9.079-3.554-16.899-10.302-22.618z" />
                </svg>
                음성인식 소환
              </a>
            </div>
          </div>

          {% comment %} Profile Section 4 {% endcomment %}
          <div class="side-wrapper">
            <div class="side-title">옵션</div>
            <div class="side-menu">
              <a href="{% url 'movies:choice' %}">
                <i class="fas fa-fill-drip" style="margin-right: 10px;"></i>
                색채 고르기
              </a>
              <a href="{% url 'movies:index' 1 %}">
                <i class="fas fa-brain" style="margin-right: 10px;"></i>
                AI Z스코어
              </a>
              <a href="{% url 'movies:index' 2 %}">
                <i class="far fa-star" style="margin-right: 10px;"></i>
                평점순
              </a>
              <a href="{% url 'movies:index' 3 %}">
                <i class="far fa-clock" style="margin-right: 10px;"></i>
                최신순

              </a>
            
              <a href={% block back_URL %} {% endblock back_URL %}>
                <i class="fas fa-undo-alt" style="margin-right: 10px;"></i>
                뒤로가기
              </a>
            </div>
          </div>
        </div>
        {% comment %} END Profile {% endcomment %}

        {% block content %}
        <div class="main-container">
          <div class="main-header">
          </div>

          <div class="content-wrapper">



            {% for movie in movies %}
            <div class="content-section mt-3">
              <div class="app-card">
                <span>
                  <svg viewBox="0 0 52 52" style="border: 1px solid #C75DEB">
                    <g xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M40.824 52H11.176C5.003 52 0 46.997 0 40.824V11.176C0 5.003 5.003 0 11.176 0h29.649C46.997 0 52 5.003 52 11.176v29.649C52 46.997 46.997 52 40.824 52z"
                        fill="#3a3375" data-original="#3a3375" />
                      <path
                        d="M27.44 39H24.2l-2.76-9.04h-8.32L10.48 39H7.36l8.24-28h3.32l8.52 28zm-6.72-12l-3.48-11.36L13.88 27h6.84zM31.48 33.48c0 2.267 1.333 3.399 4 3.399 1.653 0 3.466-.546 5.44-1.64L42 37.6c-2.054 1.254-4.2 1.881-6.44 1.881-4.64 0-6.96-1.946-6.96-5.841v-8.2c0-2.16.673-3.841 2.02-5.04 1.346-1.2 3.126-1.801 5.34-1.801s3.94.594 5.18 1.78c1.24 1.187 1.86 2.834 1.86 4.94V30.8l-11.52.6v2.08zm8.6-5.24v-3.08c0-1.413-.44-2.42-1.32-3.021-.88-.6-1.907-.899-3.08-.899-1.174 0-2.167.359-2.98 1.08-.814.72-1.22 1.773-1.22 3.16v3.199l8.6-.439z"
                        fill="#e4d1eb" data-original="#e7adfb" />
                    </g>
                  </svg>
                  {{ movie.title }}
                </span>
                <div class="app-card__subtext">{{ movie.overview }}</div>
                <div class="app-card-buttons">
                  <button class="content-button status-button"
                    onclick="location.href='{% url 'movies:detail' movie.pk %}'"> 이동 </button>
                  <div class="menu"></div>
                </div>
              </div>
              {% endfor %}
            </div>
          </div>
        </div>
        {% endblock content %}
      </div>
    </div>
    <div class="overlay-app"></div>
    </div>

  <!-- Search Event -->
  <script>
  const searchInput = document.querySelector('#searchInput')
  const searchButton = document.querySelector('#searchButton')

  searchInput.addEventListener('keypress', function(event) {
    if (event.key === 'Enter') {
      searchButton.click()
    }
  })
  </script>
  </body>
</html>